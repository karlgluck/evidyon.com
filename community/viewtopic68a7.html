<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">

<!-- Mirrored from unseenstudios.com/community/viewtopic.php?f=32&t=1120 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 12 Oct 2015 00:45:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<title>Unseen Studios &bull; View topic - i think i found the lag problem</title>

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:      
	
	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.unseenstudios.com';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	
	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="./styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="./styles/prosilver/template/forum_fn.js"></script>

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />


</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="index.html" title="Board index" id="logo"><img src="./styles/prosilver/imageset/site_logo.gif" width="139" height="52" alt="" title="" /></a>
				<h1>Unseen Studios</h1>
				<p>Game Development and More</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

		
			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="index.html" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="viewforum4b7d.html">Archive</a> <strong>&#8249;</strong> <a href="viewforumcd74.html">Archive (Before Alpha 2)</a></li>

				<li class="rightside"><a href="#" onclick="fontsizeup(); return false;" onkeypress="fontsizeup(); return false;" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="http://unseenstudios.com/community/viewtopic.php?f=32&amp;t=1120&amp;start=0&amp;sid=d30ee78094dcaf35d578302be9112b3a&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li>			</ul>

			
			<ul class="linklist rightside">
				<li class="icon-faq"><a href="faq.html" title="Frequently Asked Questions">FAQ</a></li>
				<li class="icon-members"><a title="View complete list of members">Members</a></li>					<li class="icon-logout"><a title="Login" accesskey="l">Login</a></li>
							</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>

	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
		 <h2><a href="http://unseenstudios.com/community/viewtopic.php?f=32&amp;t=1120&amp;start=0&amp;sid=d30ee78094dcaf35d578302be9112b3a">i think i found the lag problem</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><span style="display: none">Old stuff, just for reference<br /></span>	<p>
					<strong>Moderator:</strong> <a>Joe M.</a>		
	</p>

<div class="topic-actions">

	<div class="buttons">
			<div class="reply-icon"><a title="Post a reply"><span></span>Post a reply</a></div>
		</div>

			<div class="pagination">
			8 posts			 &bull; Page <strong>1</strong> of <strong>1</strong>		</div>
	
</div>
<div class="clear"></div>

	<div id="p6942" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 class="first"><a href="#p6942">i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6942&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6942"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>ascent</a></strong> &raquo; Thu Sep 25, 2008 3:12 am </p>

			
			<div class="content">some testing this morning, i decided to coutnt monsters until i lagged, i ended up getting to 27 then the number started goin down<br /><br />yet once i left screen n walked back, there were all 27, so l believe that lag is due to monsters appearing to the server and not to the player (basically its from to many polys on screen at once for the client to handle)</div>

			
		</div>

					<dl class="postprofile" id="profile6942">
			<dt>
				<a>ascent</a>			</dt>

			<dd>Traveler<br /><img src="./images/ranks/rank_1.gif" alt="Traveler" title="Traveler" /></dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Sep 02, 2008 12:08 pm</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p6953" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 ><a href="#p6953">Re: i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6953&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6953"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>Sankt Pauli</a></strong> &raquo; Thu Sep 25, 2008 10:26 am </p>

			
			<div class="content">It <span style="font-style: italic">could</span> be the polycount but that would mean the 'lag' gets produced client-side and not server-side since i don't think the server draws any graphical content &quot;on itself&quot;.<br />I don't think the lag derives from graphical issues on the clients pc though, because the monsters are actually still moving smoothly on-screen, the own character just doesn't respond. I think karl said it had to do with the way how monsters spawn, i don't really remember that though.<br /><br />Overall the lag-problem has become MUCH better though, especially if you consider the pretty much insane spawn that you can find (i found a place with basically instant spawn, only novice and apprentice skellys but the xp is pretty awesome).</div>

			
		</div>

					<dl class="postprofile" id="profile6953">
			<dt>
				<a>Sankt Pauli</a>			</dt>

			<dd>Sheriff<br /><img src="./images/ranks/rank_1.gif" alt="Sheriff" title="Sheriff" /></dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 167</dd><dd><strong>Joined:</strong> Mon Sep 03, 2007 9:48 am</dd><dd><strong>Location:</strong> Germany</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p6957" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 ><a href="#p6957">Re: i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6957&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6957"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>ascent</a></strong> &raquo; Thu Sep 25, 2008 3:23 pm </p>

			
			<div class="content">well the reason i say its because of the poly's is because last night i showed karl of a spot with massivly overspawned monstrosities (there was literally hundreds) and you could only see like 15 of them tops, then youd kill them and more would pop up on ur screen (if you could kill them lol) and youd stop moving no matter what lol karl was like &quot;OMG WTF&quot; so yea, and i never meant its server side lag, because i knwo its client side, but the only thing i havnt figured, sometimes itll lag when theres only 1 monster on my screen, causing me to die from 1 troll -.- not very fun... but thats only rarely so i honestly dont know<br /><br /><br />and server sided lag would mean monsters would lag too (if u remember in xen) in xen when server lagged bad, so did the monsters, but when u got client lag, the monsters didnt lag at all, so i assume it would be the same concept over here, (or pretty much any game)</div>

			
		</div>

					<dl class="postprofile" id="profile6957">
			<dt>
				<a>ascent</a>			</dt>

			<dd>Traveler<br /><img src="./images/ranks/rank_1.gif" alt="Traveler" title="Traveler" /></dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Sep 02, 2008 12:08 pm</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p6969" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 ><a href="#p6969">Re: i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6969&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6969"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>Karl G.</a></strong> &raquo; Thu Sep 25, 2008 7:36 pm </p>

			
			<div class="content">So I did some more code profiling and found the source of a &quot;jitter&quot;.  I'm using this term instead of &quot;lag&quot; here because lag to me means a delay during which changes you make on the client aren't reflected on the server--the client is running fine (characters animating and whatnot), but nothing changing/responding.  A &quot;jitter&quot; however is a complete client-side lock up for a short amount of time while something happens.  I've found the latter.<br /><br />The problem is when the client loads a new section of the map.  When loading the map, the client builds up the geometry for that section and makes a lot of allocations--I found that loading a new segment took around 0.16 seconds, or the equivalent of ~10 frames of rendering--which is very noticeable!  Compound that with the fact that everything on screen will &quot;jump&quot; during this time, that makes for quite a jolt.  I'm working on &quot;sliding&quot; in new sections of the map little-by-little so that it doesn't have such a drastic effect.<br /><br /><br /><br />That said, the responsiveness problem you're having (and I've encountered, though very rarely) seems also to be client-side.  I think it has to do with the input subsystem choking during a jitter.  A whole bunch of messages flood in (a normal app can get a few hundred every second if the mouse is moving) and a buffer somewhere fills up, then starts just dropping new input instead of handling it.  I'm thinking that switching to a different kind of input processing will fix this, but that's a challenge for later.<br /><br />The jist is, there's a way to tell what the error is--but I have to get the error to happen first and  as I mentioned, it rarely ever happens on my system.  So when 1.10 comes out, remind me to describe to you how to find it.</div>

			
		</div>

					<dl class="postprofile" id="profile6969">
			<dt>
				<a><img src="./images/avatars/gallery/black_white_1/yingyang_avat.gif" width="87" height="88" alt="User avatar" /></a><br />
				<a>Karl G.</a>			</dt>

			<dd>Lesser Spirit</dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2453</dd><dd><strong>Joined:</strong> Sat Mar 04, 2006 10:26 am</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p6972" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 ><a href="#p6972">Re: i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6972&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6972"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>ascent</a></strong> &raquo; Thu Sep 25, 2008 8:24 pm </p>

			
			<div class="content">well karl i can show you the exact spots where i normally get it (theres roughley 3 or 4 spots where i ALWAYS get a jitteR) also with the inputing becoming nonresponcive during a jitter, other things that dont work when a jitter occurs, clicking, (of course any thing that is keyed) and talking all do not work, but i'd like to know, since i didnt fully udnerstand your post, was i on the right track with my findings? (btw the jitters happen more with Trolls, Monstrosityes &lt;-- cuz their bigger and with experts/masters &lt;--cuz theres so darn many)<br /><br /><br />one way i prevent this problem (personally) is when i know i'm coming up on alot of monsters, i take baby steps, only taking 1-5 monsters at a time, trying to get as little as possible</div>

			
		</div>

					<dl class="postprofile" id="profile6972">
			<dt>
				<a>ascent</a>			</dt>

			<dd>Traveler<br /><img src="./images/ranks/rank_1.gif" alt="Traveler" title="Traveler" /></dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Sep 02, 2008 12:08 pm</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p6975" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 ><a href="#p6975">Re: i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6975&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6975"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>Burnt Ferret</a></strong> &raquo; Thu Sep 25, 2008 8:46 pm </p>

			
			<div class="content">I only get this &quot;jitter&quot; or &quot;lag&quot; when i have something such as a video i'm not watching open in the background.  Very rarely have I experienced this when there was nothing running in the background, but yes, it is always when there are at least 15 monsters on the same page.</div>

			
		</div>

					<dl class="postprofile" id="profile6975">
			<dt>
				<a>Burnt Ferret</a>			</dt>

			<dd>Sheriff<br /><img src="./images/ranks/rank_1.gif" alt="Sheriff" title="Sheriff" /></dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 120</dd><dd><strong>Joined:</strong> Sat Sep 20, 2008 12:34 pm</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p6977" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 ><a href="#p6977">Re: i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6977&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6977"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>ascent</a></strong> &raquo; Thu Sep 25, 2008 9:05 pm </p>

			
			<div class="content">it may also be due to the ammount your CPU can handle, i've yet to try evidyon on my laptop cuz i dont have wireless yet (i get it in a fw weeks w00000t)</div>

			
		</div>

					<dl class="postprofile" id="profile6977">
			<dt>
				<a>ascent</a>			</dt>

			<dd>Traveler<br /><img src="./images/ranks/rank_1.gif" alt="Traveler" title="Traveler" /></dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 80</dd><dd><strong>Joined:</strong> Tue Sep 02, 2008 12:08 pm</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<div id="p6989" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
			<h3 ><a href="#p6989">Re: i think i found the lag problem</a></h3>
			<p class="author"><a href="http://unseenstudios.com/community/viewtopic.php?p=6989&amp;sid=d30ee78094dcaf35d578302be9112b3a#p6989"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a>Karl G.</a></strong> &raquo; Fri Sep 26, 2008 6:52 am </p>

			
			<div class="content"><blockquote><div><cite>ascent wrote:</cite>well karl i can show you the exact spots where i normally get it (theres roughley 3 or 4 spots where i ALWAYS get a jitteR)</div></blockquote><br /><br /><br />next time you see me online, show me where</div>

			
		</div>

					<dl class="postprofile" id="profile6989">
			<dt>
				<a><img src="./images/avatars/gallery/black_white_1/yingyang_avat.gif" width="87" height="88" alt="User avatar" /></a><br />
				<a>Karl G.</a>			</dt>

			<dd>Lesser Spirit</dd>
		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 2453</dd><dd><strong>Joined:</strong> Sat Mar 04, 2006 10:26 am</dd>			<dd>
				<ul class="profile-icons">
					<li class="pm-icon"><a title="Private message"><span>Private message</span></a></li>				</ul>
			</dd>
		
		</dl>
	
		<div class="back2top"><a href="#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />
	<form id="viewtopic" method="post" action="http://unseenstudios.com/community/viewtopic.php?f=32&amp;t=1120&amp;start=0&amp;sid=d30ee78094dcaf35d578302be9112b3a">

	<fieldset class="display-options" style="margin-top: 0; ">
				<label>Display posts from previous: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
		<label>Sort by <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select> <input type="submit" name="sort" value="Go" class="button2" /></label>
			</fieldset>

	</form>
	<hr />

<div class="topic-actions">
	<div class="buttons">
			<div class="reply-icon"><a title="Post a reply"><span></span>Post a reply</a></div>
		</div>

			<div class="pagination">
			8 posts			 &bull; Page <strong>1</strong> of <strong>1</strong>		</div>
	</div>

	<p></p><p><a href="viewforumcd74.html" class="left-box left" accesskey="r">Return to Archive (Before Alpha 2)</a></p>
	<br /><br />
	<h3><a href="http://unseenstudios.com/community/viewonline.php?sid=d30ee78094dcaf35d578302be9112b3a">Who is online</a></h3>
	<p>Users browsing this forum: No registered users and 1 guest</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.html" accesskey="h">Board index</a></li>
							<li class="rightside"><a>The team</a> &bull; <a>Delete all board cookies</a> &bull; All times are UTC - 6 hours </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>
	
<!--
	We request you retain the full copyright notice below including the link to www.phpbb.com.
	This not only gives respect to the large amount of time given freely by the developers
	but also helps build interest, traffic and use of phpBB3. If you (honestly) cannot retain
	the full copyright we ask you at least leave in place the "Powered by phpBB" line, with
	"phpBB" linked to www.phpbb.com. If you refuse to include even this then support on our
	forums may be affected.

	The phpBB Group : 2006
//-->

	<div class="copyright">Powered by <a href="http://www.phpbb.com/">phpBB</a> &copy; 2000, 2002, 2005, 2007 phpBB Group
			</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>


</body>

<!-- Mirrored from unseenstudios.com/community/viewtopic.php?f=32&t=1120 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 12 Oct 2015 00:45:21 GMT -->
</html>