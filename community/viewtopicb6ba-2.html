<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">

<!-- Mirrored from unseenstudios.com/community/viewtopic.php?f=9&t=703&start=0&sid=65573d350e171b908b90f1864d554f9e&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 12 Oct 2015 00:44:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="robots" content="noindex" />
<title>Unseen Studios &bull; View topic - Servers - how powerful</title>

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" />
</head>

<body id="phpbb">
<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>

	<div id="page-header">
		<h1>Unseen Studios</h1>
		<p>Game Development and More<br /><a href="http://unseenstudios.com/community/">http://unseenstudios.com/community/</a></p>
		
		<h2>Servers - how powerful</h2>
		<p><a href="http://unseenstudios.com/community/viewtopic.php?f=9&amp;t=703">http://unseenstudios.com/community/viewtopic.php?f=9&amp;t=703</a></p>
	</div>

	<div id="page-body">
		<div class="page-number">Page <strong>1</strong> of <strong>1</strong></div>
					<div class="post">
				<h3>Servers - how powerful</h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 1:03 pm</strong></div>
				<div class="author">by <strong>Ratiotile</strong></div>
				<div class="content">Does anyone know anything about EJ's server hardware, or is knowledgeable enough to speculate? I can't imagine EJ using racks full of powerful new servers for Xenimus. If the servers are relatively low-end, then the bulk of the cost for such a game would be the bandwidth. I'm just curious as to the server hardware requirements.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 2:37 pm</strong></div>
				<div class="author">by <strong>thadiusofx3</strong></div>
				<div class="content">they are low-tech, definitely not some rack server
<br />i can dig up something about them if you want me to, I think i've got the specs somewhere
<br />basically just a desktop computer with his server program running on it</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 5:28 pm</strong></div>
				<div class="author">by <strong>Ratiotile</strong></div>
				<div class="content">If the servers can in fact be inexpensive computers, we could do away with a lot of the current arguments (magic bags for example), and run two servers: one classic server with hardcore rules, and another experimental server to test out these magic bag solutions.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 5:37 pm</strong></div>
				<div class="author">by <strong>thadiusofx3</strong></div>
				<div class="content">or just test them out in the alpha</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 7:05 pm</strong></div>
				<div class="author">by <strong>ziggman</strong></div>
				<div class="content">i think we should run with out bags to test how it works see if many people like it or if it turns out to be a problem.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 10:05 pm</strong></div>
				<div class="author">by <strong>Vitriol</strong></div>
				<div class="content"><blockquote><div><cite>ziggman wrote:</cite>i think we should run with out bags to test how it works see if many people like it or if it turns out to be a problem.</div></blockquote>
<br />
<br />Thank you! 
<br />
<br />We have already settled this people! No bags! Drop 1 item when you die.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 10:39 pm</strong></div>
				<div class="author">by <strong>speed3b</strong></div>
				<div class="content"><blockquote class="uncited"><div>So here is what is happening. Prime is not changing, it has always had a good connection and been a good machine. The other servers will all be P4 1600s with 512 meg ram. The lines they are connected to are some of the fastest possible for me to get. The cost is more but I think it will be worth it. </div></blockquote>
<br /><!-- m --><a class="postlink" href="http://www.xentales.com/wiki/index.php/2002_Game_Updates#Replacing_all_the_servers_now___12-29-2002">http://www.xentales.com/wiki/index.php/ ... 12-29-2002</a><!-- m -->
<br />
<br />But i could have sworn that he asked the xen community at one point about updating the servers and what type of the 2 processors he should change to. I think it was a really basic question like, AMD or Intel. But this may have been when he hosted them still... or something.
<br />
<br />
<br />Edit: In 2002 this was good equipment though. But im sure he hasnt changed it yet unless thats what all the isp changes are too.... im not sure of anything about it now.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Thu Jul 26, 2007 10:47 pm</strong></div>
				<div class="author">by <strong>Vitriol</strong></div>
				<div class="content">The xenimus servers have never needed that much CPU power. Its always a bandwidth limitation. 
<br />At some point when the game is more complete it could be possible for us to release the server program to allow custom servers. But that wont be anytime soon. We still need models for players!</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Jul 27, 2007 1:03 pm</strong></div>
				<div class="author">by <strong>Necromadon</strong></div>
				<div class="content"><blockquote><div><cite>Clown Mage of X1 wrote:</cite><blockquote class="uncited"><div>So here is what is happening. Prime is not changing, it has always had a good connection and been a good machine. The other servers will all be P4 1600s with 512 meg ram. The lines they are connected to are some of the fastest possible for me to get. The cost is more but I think it will be worth it. </div></blockquote><br /><!-- m --><a class="postlink" href="http://www.xentales.com/wiki/index.php/2002_Game_Updates#Replacing_all_the_servers_now___12-29-2002">http://www.xentales.com/wiki/index.php/ ... 12-29-2002</a><!-- m --><br /><br />But i could have sworn that he asked the xen community at one point about updating the servers and what type of the 2 processors he should change to. I think it was a really basic question like, AMD or Intel. But this may have been when he hosted them still... or something.<br /><br /><br />Edit: In 2002 this was good equipment though. But im sure he hasnt changed it yet unless thats what all the isp changes are too.... im not sure of anything about it now.</div></blockquote>
<br />That is the exact post that came to mind when I read this topic.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Fri Jul 27, 2007 1:38 pm</strong></div>
				<div class="author">by <strong>9sam1</strong></div>
				<div class="content"><blockquote><div><cite>Vitriol wrote:</cite><blockquote><div><cite>ziggman wrote:</cite>i think we should run with out bags to test how it works see if many people like it or if it turns out to be a problem.</div></blockquote><br /><br />Thank you! <br /><br />We have already settled this people! No bags! Drop 1 item when you die.</div></blockquote>
<br />
<br />No we havent...</div>
			</div>
			<hr />
					<div class="post">
				<h3>How power a server?</h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 12:53 am</strong></div>
				<div class="author">by <strong>figgles</strong></div>
				<div class="content">I think this question needs refinement.
<br />
<br />How powerful would a server need to be to ensure that raw CPU power does not become a bottleneck? If Karl's server code can make use of SMP/NUMA systems with a non-negative scaling, then I would imagine that basically any dual-core processor should be more than sufficient. But really that is hardly the issue. If that is the question, the required processing power depends on the number of connected users and the efficiency of the code.
<br />
<br />
<br />But what does it matter if the server is powerful enough for 500 users if it cannot maintain a connection to 100 users? The latency of communications, i.e. the Internet, is far more likely to be felt than latency of cache miss or page fault.  Even with infinite bandwidth, the latency is likely to remain the same. However, with some simple calculations, I have to agree with Vitriol -- bandwidth will be a limitation.
<br />
<br />I'm still a bit skeptical as to how this community is going to solve the bandwidth problems once a workable version of the server and client is produced. Has anyone thought about this yet? It's a real pitfall of a design issue that I haven't really seen addressed, and I know I have asked about it once. Maybe I just missed the response. Let's go ahead and make some simple estimates. I come from the FPS world, so these look rather conservative.
<br />
<br />1) The client updates his/her status, say, 10 times per second. Effectively, 100 milliseconds. Change that to a more conservative 250 millseconds (4 updates/sec) if you would like.
<br />2) The client's updates are close to 100 bytes. At 10 times/sec, that is almost 1KB (1024 bytes), and at 4 times/sec that is less than 1/2 KB.
<br />3) The server updates approximately the same rate as the client, although just from experience, I would imagine that the updates sent are larger than the clients.
<br />4) The server is likely to be run on consumer-level ISPs. I get 60-80KB/sec sustained on 15d/2u FIOS (Theoretically 250KB/sec maximum -- perhaps in burst). Your mileage (hopefully!) will vary. Using a cable modem is likely to have even worse ratings.
<br />
<br />
<br />There are 336 users on this forum. I'll assume that at any given time, less than 1/3 could be playing. Say, 100 users. In real life, traffic is a function of the time -- few on at early hours in the morning, perhaps 75% on during peak.
<br />
<br />Assuming that server packets are slightly larger than client packets, say 128 bytes, that is about 512 bytes/sec for the 4 updates/sec, and just over 1.25KB/sec for 10 updates/sec. This is very little communication. When it comes to downstream, the server is set. But what about upstream, where it sends data to the clients?
<br />
<br />Now, let's take that 100 clients. At 512 bytes/sec, you are gold: 50KB/sec sustained should be easily done. You will max out at approximately 160 clients @ 512 bytes/sec = 80KB/sec. This represents less than 1/2 of the number of registered users, and probably wouldn't work well for peak. This also assumes that packets have exactly no overhead and never require a resend -- both aren't safe assumptions. UDP, the most lightweight (and error prone) protocol has around 16 bytes/packet of overhead. That represents about a 12.5% increase in our 128 byte server packet size and 16% on the client packet. Resends half the instantenous bandwidth by requiring the same amount of information to sent using twice the bandwidth. Luckily, resends aren't always required, and aren't too horribly common.
<br />
<br />Now, let's take that 100 clients again, but at a more responsive 10 updates/sec resulting in 1.25KB/sec. This gives us 125KB/sec -- too much to support assuming the poor figures cited. Again, no overhead and no resends assumed.
<br />
<br />
<br />If a test version of PV is released however, I would imagine that it would attract much more than 100 players online. It is likely that the forum will become much more active and so forth.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 1:00 am</strong></div>
				<div class="author">by <strong>JSunJShineR</strong></div>
				<div class="content">you said a mouth-full, I understood 17% of that maybe lol, from what I understand bandwith is the problem?</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 2:00 am</strong></div>
				<div class="author">by <strong>ziggman</strong></div>
				<div class="content">you seem to know what ur talking about. what type of solution would you lean tward? if the bandwidth can only support 100 or so players?</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 2:03 am</strong></div>
				<div class="author">by <strong>ziggman</strong></div>
				<div class="content"><blockquote><div><cite>9sam1 wrote:</cite><blockquote><div><cite>Vitriol wrote:</cite><blockquote><div><cite>ziggman wrote:</cite>i think we should run with out bags to test how it works see if many people like it or if it turns out to be a problem.</div></blockquote><br /><br />Thank you! <br /><br />We have already settled this people! No bags! Drop 1 item when you die.</div></blockquote><br /><br />No we havent...</div></blockquote>
<br />
<br />nothing is 100% set. its possible there may be 2 servers (in time) one with bags (anti pvp) and one with out (full pvp)</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 7:39 pm</strong></div>
				<div class="author">by <strong>Nenitus</strong></div>
				<div class="content">I believe that was the reason behind DS.
<br />You all seem to think it was cause ej didnt have room to make a large enough map.
<br />I think it was to distribute players so that he could solve bandwidth limitations.
<br />I mean sure, you could keep everyone on one server all the time, but you might hit a bottleneck.
<br />If you make the good hunting spots on another server, (lets say) half the players would go to that server, while the other half stay in town/chatting/hunting on server. This reduces bandwidth to each server, and problems are solved.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 8:39 pm</strong></div>
				<div class="author">by <strong>Vitriol</strong></div>
				<div class="content">I dont see the bandwidth being THAT much of a problem. Hell, im on a 5Mbit pipe and ROUTINELY download at speeds of 600KB/s or more. Of course, in this case the server is uploading a lot more data than downloading. But some solution will be found. (I cant upload more than 35KB/s without choking my connection) 
<br />And these problems wont appear at first. Any client released in the next month or so will certainly not be a general release. itll be a private release to the active members of this forum. We are talking 20 people at MOST. Later in development these concerns can be addressed. Its not like there will be much to do in the initial release anyway...
<br />
<br />And look, Im really sick and tired of the magic bag crap. Old xen didnt have magic bags and people loved it. I think the fact that we have conceded not to make the players drop the entire inventory is unacceptable by itself. You newbs are completely ignoring the concept and you are going to ruin it.</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 8:47 pm</strong></div>
				<div class="author">by <strong>ziggman</strong></div>
				<div class="content"><blockquote><div><cite>Vitriol wrote:</cite>And look, Im really sick and tired of the magic bag crap. Old xen didnt have magic bags and people loved it. I think the fact that we have conceded not to make the players drop the entire inventory is unacceptable by itself. You newbs are completely ignoring the concept and you are going to ruin it.</div></blockquote>
<br />
<br />im done discussing this issue as well, i think the majority of people have agreed on dropping 1 item with the 10 level mass pk buffer. 
<br />
<br />jsunjshiner, bags are highly unlikely to make it in the game, because early xen never had them... use redos if its a concern</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 10:33 pm</strong></div>
				<div class="author">by <strong>Vitriol</strong></div>
				<div class="content">even though its not ideal, I can completely accept the 1 item drop, 10 lvl buffer. 
<br />Reditus Amulets im sure will become the standard way for higher levels (20 and up) to protect their equipment. (although I think they should be a bit more rare than in current xenimus.)</div>
			</div>
			<hr />
					<div class="post">
				<h3></h3>
				<div class="date"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" />Posted: <strong>Sun Jul 29, 2007 11:13 pm</strong></div>
				<div class="author">by <strong>thadiusofx3</strong></div>
				<div class="content">definitely more rare</div>
			</div>
			<hr />
			</div>

<!--
	We request you retain the full copyright notice below including the link to www.phpbb.com.
	This not only gives respect to the large amount of time given freely by the developers
	but also helps build interest, traffic and use of phpBB3. If you (honestly) cannot retain
	the full copyright we ask you at least leave in place the "Powered by phpBB" line, with
	"phpBB" linked to www.phpbb.com. If you refuse to include even this then support on our
	forums may be affected.

	The phpBB Group : 2006
//-->
	<div id="page-footer">
		<div class="page-number">All times are UTC - 6 hours <br />Page <strong>1</strong> of <strong>1</strong></div>
		<div class="copyright">Powered by phpBB &copy; 2000, 2002, 2005, 2007 phpBB Group<br />http://www.phpbb.com/</div>
	</div>
</div>

</body>

<!-- Mirrored from unseenstudios.com/community/viewtopic.php?f=9&t=703&start=0&sid=65573d350e171b908b90f1864d554f9e&view=print by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 12 Oct 2015 00:44:07 GMT -->
</html>